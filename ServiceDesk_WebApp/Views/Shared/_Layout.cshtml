@using ServiceDesk_WebApp.Common
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"] - ServiceDesk_WebApp</title>
	<link rel="stylesheet" href="~/css/bootstrap.min.css" />
	<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/css/bootstrap-select.min.css">
	<link rel="stylesheet" href="~/css/datatables.min.css" asp-append-version="true" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">



</head>
<body>

	<div class="d-flex" id="wrapper">
		<!-- Sidebar-->
		<div class="border-end bg-white ml-0" id="sidebar-wrapper">
				@if (User.GetUserRole() == 1)
			{
				<div class="sidebar-heading border-bottom border-warning text-white"><i class="fa-solid fa-user-large rotate_335"></i>  SD - Admin</div>
			}
			@if (User.GetUserRole() == 2)
			{
				<div class="sidebar-heading border-bottom border-warning text-white"><i class="fa-solid fa-user-large rotate_335"></i>  SD - Vendor</div>
			}
			<div class="list-group list-group-flush">
				@if(User.GetUserRole()==1)
				{
					<a asp-controller="Admin" asp-action="AdminDashBoard" class="list-group-item list-group-item-action list-group-item-light p-3"><i class="fa-solid fa-gauge"></i> Dashboard</a>
				    <a asp-controller="Admin" asp-action="Vendor" class="list-group-item list-group-item-action list-group-item-light p-3"><i class="fa-solid fa-user-large"></i>Vendors</a>
				    <a href="#!" class="list-group-item list-group-item-action list-group-item-light p-3"><i class="fa-solid fa-rectangle-list"></i> View Request</a>
				}
				
			</div>

		</div>

		<!-- Page content wrapper-->
		<div id="page-content-wrapper">
			<!-- Top navigation-->
			<nav class="navbar navbar-expand-lg navbar-light bg-light  shadow-md">
				<div class="container-fluid justify-content-sm-end p-2">
					@*<button class="btn btn-primary" id="sidebarToggle"><i class="fa-solid fa-sliders"></i> </button>*@
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>


					<div class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown">
							@User.GetName().ToUpper() <span class="user pl-2"><i class="fa-solid fa-user-large"></i></span>
						</a>
						<div class="dropdown-menu  admin-user-dropdown">
							<a class="dropdown-item logout-btn" href="#!"><i class="fa-solid fa-user-large"></i>&nbsp; @User.GetEmail()</a>
							 <a  class="dropdown-item logout-btn "title="Logout" onclick="logout()"><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout </a>

@*
							<a data-bs-toggle="modal" class="dropdown-item logout-btn" data-bs-target="#myModal">
								<i class="fa-solid fa-arrow-right-from-bracket"></i> Logout
							</a>*@
						</div>
					</div>

				</div>
			</nav>

			<div class="container-view">
				<main role="main" class="pb-3">
					@RenderBody()
				</main>
			</div>
		</div>

	</div>
	<div id="sporta-modal-dialog-div"></div>



	<!-- The Modal -->
	<div class="modal fade" id="myModal" data-backdrop="static">
		<div class="modal-dialog">
			<div class="modal-content">



				<!-- Modal body -->
				<div class="modal-body">
					<h3 class="modal-title text-center ">Are you sure to logout</h3>
				</div>

				<!-- Modal footer -->
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
					<a asp-action="LogOut" asp-controller="Account" class="btn btn-secondary"> <i class="fa-solid fa-user-large"></i> Logout</a>

				</div>

			</div>
		</div>
	</div>




	@*<footer class="border-top footer text-muted">
		<div class="container">
		&copy; 2022 - ServiceDesk_WebApp - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
		</div>
		</footer>*@
	<script src="~/js/jquery-3.5.1.min.js"></script>
	<script src="~/js/bootstrap.min.js"></script>
	<script src="/js/popper.min.js" asp-append-version="true"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/bootstrap-select.min.js"></script>
	@*<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.14.0-beta2/dist/js/i18n/defaults-*.min.js"></script>*@
	<script src="~/js/datatables.min.js" asp-append-version="true"></script>
	<script src="~/js/common.js" asp-append-version="true"></script>
	<script src="~/js/site.js" asp-append-version="true"></script>
	<script src="~/js/Vendor.js" asp-append-version="true"></script>
	<script src="~/js/DashBoard.js" asp-append-version="true"></script>

	<script>
		var userRole;
		if(@User.GetUserRole()==1)
		{
			userRole='Admin';
		}
		else
		{
           userRole='Vendor';
		}
		 function logout() {
            SportaUtil.ConfirmDialogue("Are you sure to logout?", null, function () {
                location.href = '/Account/logout';
            })
        }
	</script>


	@await Component.InvokeAsync("Notyf")
	@RenderSection("Scripts", required: false)
</body>
</html>
